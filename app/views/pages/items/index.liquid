---
slug: s
---

{% liquid
  function_rc query = 'lib/data/queries/items/search/build', query: context.params, limit: 50
  function_rc items = 'lib/data/queries/items/search/execute', query: query

  function_rc filters = 'lib/data/queries/search/filters', query: context.params
  if context.params.submit == 'save_search'
    graphql u = 'sessions/current_user'
    graphql r = 'users/addkey', id: u.user.id, key: "saved_search", value: context.headers.QUERY_STRING
  endif
  include 'theme/simple/home/index', items: items, filters: filters
%}
