query user($id: ID!) {
  users(
    per_page: 1
    filter: {
      id: { value: $id }
    }
  ) {
    results {
      ...user
      followed_users: related_users(foreign_property: "id", join_on_property: "followed_user_ids") {
        ...user
      }
    }
  }
}

fragment user on User {
  id
  email
  name: property(name: "username")
  username: property(name: "username")
  photo: property_upload(name: "avatar") {
    versions(names: ["tiny", "small"])
  }
}
